<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jai Prakash Studio | Professional Cloud Booking</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Montserrat:wght@300;400;600&display=swap');
        :root { --gold: #D4AF37; --dark-bg: #0a0a0a; }
        body { font-family: 'Montserrat', sans-serif; background-color: var(--dark-bg); color: #fff; scroll-behavior: smooth; }
        .gold-text { background: linear-gradient(to right, #D4AF37, #FBE7A1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-family: 'Cinzel', serif; }
        .glass-card { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(212, 175, 55, 0.1); transition: 0.4s; }
        .admin-view { display: none; background: #f8fafc; color: #0f172a; min-height: 100vh; }
        
        @media print {
            body * { visibility: hidden; }
            #print-area, #print-area * { visibility: visible; }
            #print-area { position: absolute; left: 0; top: 0; width: 100%; color: black !important; background: white !important; padding: 40px; }
        }
    </style>
</head>
<body>

    <div id="client-ui">
        <nav class="fixed w-full z-50 bg-black/80 backdrop-blur-lg border-b border-white/10 px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl gold-text font-black tracking-tighter uppercase">JAI PRAKASH STUDIO</h1>
            <button onclick="openAdmin()" class="bg-white/5 border border-white/20 text-[10px] px-4 py-2 rounded-full hover:bg-white hover:text-black transition">STAFF LOGIN</button>
        </nav>

        <section class="h-[45vh] flex flex-col items-center justify-center text-center px-4 relative overflow-hidden">
            <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1516035069371-29a1b244cc32?q=80&w=1638')] bg-cover bg-center opacity-30"></div>
            <div class="relative z-10">
                <span class="text-yellow-500 text-xs font-bold tracking-[5px] uppercase mb-2 block">Dagmara Piprahi, Supaul</span>
                <h2 class="text-4xl md:text-7xl font-bold gold-text uppercase leading-none">JAY PRAKASH HD &4K VIDEOGRAPHY</h2>
            </div>
        </section>

        <section id="booking" class="py-10 px-6 -mt-10">
            <div class="max-w-6xl mx-auto glass-card rounded-[40px] overflow-hidden grid md:grid-cols-3 shadow-2xl">
                <div class="p-8 border-r border-white/5 bg-white/5">
                    <h4 class="text-yellow-500 font-bold mb-6 text-sm uppercase">01. Choose Service</h4>
                    <div class="space-y-3">
                        <label class="block p-4 border border-white/10 rounded-xl cursor-pointer hover:bg-white/5"><input type="radio" name="service" onclick="updatePriceDisplay('Drone Camera', 5000)"> Drone Shoot</label>
                        <label class="block p-4 border border-white/10 rounded-xl cursor-pointer hover:bg-white/5"><input type="radio" name="service" onclick="updatePriceDisplay('4K Video', 4000)"> 4K Video</label>
                        <label class="block p-4 border border-white/10 rounded-xl cursor-pointer hover:bg-white/5"><input type="radio" name="service" onclick="updatePriceDisplay('DSLR Photo', 4000)"> DSLR Photo</label>
                        <label class="block p-4 border border-white/10 rounded-xl cursor-pointer hover:bg-white/5"><input type="radio" name="service" onclick="updatePriceDisplay('Karizma Album', 6000)"> Karizma Album</label>
                    </div>
                </div>

                <div class="p-8 border-r border-white/5">
                    <h4 class="text-yellow-500 font-bold mb-6 text-sm uppercase">02. Booking Details</h4>
                    <div class="space-y-4">
                        <input type="text" id="cust_name" placeholder="ग्राहक का नाम" class="w-full bg-transparent border-b border-white/20 py-2 outline-none focus:border-yellow-500 transition">
                        <input type="date" id="cust_date" class="w-full bg-transparent border-b border-white/20 py-2 outline-none focus:border-yellow-500">
                        <input type="text" id="cust_phone" placeholder="मोबाइल नंबर" class="w-full bg-transparent border-b border-white/20 py-2 outline-none focus:border-yellow-500">
                        <input type="text" id="cust_address" placeholder="पूरा पता (Address)" class="w-full bg-transparent border-b border-white/20 py-2 outline-none focus:border-yellow-500">
                    </div>
                </div>

                <div class="p-8 bg-yellow-600/5 text-center flex flex-col justify-center">
                    <div id="total-price-display" class="text-5xl font-black gold-text mb-6">₹0</div>
                    <button onclick="processBooking()" id="submitBtn" class="py-4 bg-green-600 text-white rounded-xl font-bold uppercase tracking-widest hover:bg-green-500 shadow-lg"><i class="fab fa-whatsapp"></i> Book Now</button>
                </div>
            </div>
        </section>

        <section class="py-20 px-6 container mx-auto">
            <h3 class="text-2xl font-bold gold-text text-center mb-12 italic tracking-[3px]">OUR RECENT WORK</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="rounded-[2rem] overflow-hidden h-72 glass-card">
                    <img src="https://scontent.fknu1-6.fna.fbcdn.net/v/t1.15752-9/624545369_776498668190903_4460289507285851226_n.jpg?_nc_cat=107&ccb=1-7&_nc_sid=9f807c&_nc_ohc=Hl0kj2AzJJcQ7kNvwHAK2Dx&_nc_oc=Adl6pC5VBJjnHdB5DS6uRy8aq9eyhg36F7mO_4KA6Jzx47K-nCjpqAX4pSoWxtM12MY&_nc_zt=23&_nc_ht=scontent.fknu1-6.fna&oh=03_Q7cD4QGS3rXfE8-HGR57TaUrWxXJ4GVLFoUUvYZYVQ6LZzBbtA&oe=69A26CB2" class="w-full h-full object-cover">
                </div>
                <div class="rounded-[2rem] overflow-hidden h-72 glass-card">
                    <img src="https://scontent.fknu1-2.fna.fbcdn.net/v/t1.15752-9/618083628_1886015038947575_2688278330515647928_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=9f807c&_nc_ohc=YT17IjzJPOoQ7kNvwEkpSj8&_nc_oc=Adl5S3dHvw8MOKsPJnrD7egtQocLRY4BnNMxPRrf9v0fvKebF3Lc_Ey8JnaF6pyqvso&_nc_zt=23&_nc_ht=scontent.fknu1-2.fna&oh=03_Q7cD4QFPjXXltkIwaANKQrjrwCR2Uj-VYZxNo3wquAhhYEVPsw&oe=69A28A0B" class="w-full h-full object-cover">
                </div>
                <div class="rounded-[2rem] overflow-hidden h-72 glass-card">
                    <img src="https://scontent.fknu1-3.fna.fbcdn.net/v/t1.15752-9/621832833_915630767820448_2450677879053298511_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=9f807c&_nc_ohc=ceDEAmAeRbQQ7kNvwHv23Ae&_nc_oc=AdnJLd7WNxOIZzXyGft-KbwqB3hcHgUkcL5CieB7OBK5FG_v8xqyw3-6jkwZhMLHDHo&_nc_zt=23&_nc_ht=scontent.fknu1-3.fna&oh=03_Q7cD4QEn8RK0nvapHUQkItcsUVXKdTIM_IYOTSuONTIviislzg&oe=69A2937C" class="w-full h-full object-cover">
                </div>
            </div>
        </section>
        
        <footer class="py-10 text-center text-gray-500 border-t border-white/5">
            <p>© 2026 JAI PRAKASH STUDIO - Dagmara, Supaul</p>
        </footer>
    </div>

    <div id="admin-ui" class="admin-view p-8">
        <div class="max-w-6xl mx-auto bg-white rounded-[2rem] p-8 shadow-2xl border border-slate-200">
            <div class="flex justify-between items-center mb-10">
                <h2 class="text-2xl font-black text-slate-800 uppercase tracking-tighter">System <span class="text-blue-600">Admin</span></h2>
                <button onclick="location.reload()" class="bg-red-500 text-white px-5 py-2 rounded-xl text-xs font-bold hover:bg-red-600">LOGOUT</button>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead class="bg-slate-50 text-slate-400 text-[10px] uppercase font-bold border-b">
                        <tr>
                            <th class="p-5">Name</th>
                            <th class="p-5">Phone</th>
                            <th class="p-5">Address</th>
                            <th class="p-5">Service</th>
                            <th class="p-5">Print</th>
                        </tr>
                    </thead>
                    <tbody id="admin-data-list"></tbody>
                </table>
            </div>
            <div id="admin-loader" class="text-center py-20 font-bold text-slate-300">Syncing Cloud Database...</div>
        </div>
    </div>

    <div id="print-area" class="hidden">
        <center>
            <h1 style="font-size: 30px; font-weight: 900; color: black; margin-bottom: 0;">JAI PRAKASH STUDIO</h1>
            <p style="color: black; margin-top: 5px;">Mob: 9102084493 | Dagmara Piprahi, Supaul</p>
            <hr style="border: 1px solid black; margin: 20px 0;">
            <h2 style="font-weight: 800; text-decoration: underline;">BOOKING INVOICE</h2>
        </center>
        <div style="margin-top: 40px; font-size: 19px; line-height: 2.5; color: black;">
            <p><strong>Client Name:</strong> <span id="p-name"></span></p>
            <p><strong>Contact:</strong> <span id="p-phone"></span></p>
            <p><strong>Shoot Date:</strong> <span id="p-date"></span></p>
            <p><strong>Address:</strong> <span id="p-address"></span></p>
            <p><strong>Service:</strong> <span id="p-service"></span></p>
        </div>
        <div style="margin-top: 80px; text-align: right;">
            <p>___________________</p>
            <p>Authorized Signature</p>
        </div>
    </div>

    <script>
        let selectedService = "";
        const CLOUD_URL = 'https://script.google.com/macros/s/AKfycbx_zbnIzfEVGr5cu_qMSndckI9nuYyw7UGHZL9wBHuvUAVnDka5fMqida46-lse4B0/exec';

        function updatePriceDisplay(name, price) {
            selectedService = name;
            document.getElementById('total-price-display').innerText = "₹" + price.toLocaleString();
        }

        async function processBooking() {
            const name = document.getElementById('cust_name').value;
            const date = document.getElementById('cust_date').value;
            const phone = document.getElementById('cust_phone').value;
            const address = document.getElementById('cust_address').value;

            if(!name || !date || !phone || !address || !selectedService) {
                alert("Please fill all information!"); return;
            }

            const payload = { name, date, service: selectedService, phone, address };
            await fetch(CLOUD_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });

            const msg = `*NEW BOOKING*%0A*Name:* ${name}%0A*Date:* ${date}%0A*Phone:* ${phone}%0A*Address:* ${address}%0A*Service:* ${selectedService}`;
            window.open(`https://wa.me/919102084493?text=${msg}`, '_blank');
            location.reload();
        }

        function openAdmin() {
            if(prompt("Enter Access Password:") === "Jp@123") {
                document.getElementById('client-ui').style.display = 'none';
                document.getElementById('admin-ui').style.display = 'block';
                fetchFromServer();
            }
        }

        async function fetchFromServer() {
            try {
                const response = await fetch(CLOUD_URL);
                const data = await response.json();
                document.getElementById('admin-loader').style.display = 'none';
                document.getElementById('admin-data-list').innerHTML = data.map(b => `
                    <tr class="border-b text-[12px] hover:bg-slate-50 transition">
                        <td class="p-5 font-bold uppercase text-slate-800">${b.name}</td>
                        <td class="p-5 font-bold text-blue-600">${b.phone || 'N/A'}</td>
                        <td class="p-5 text-slate-500 italic">${b.address || 'N/A'}</td>
                        <td class="p-5 font-black text-yellow-600 uppercase">${b.service}</td>
                        <td class="p-5">
                            <button onclick="printInvoice('${b.name}', '${b.phone}', '${b.date}', '${b.address}', '${b.service}')" class="bg-black text-white px-4 py-1.5 rounded-lg font-bold shadow-md">PRINT</button>
                        </td>
                    </tr>
                `).reverse().join('');
            } catch (e) { document.getElementById('admin-loader').innerText = "Database Sync Error!"; }
        }

        function printInvoice(name, phone, date, address, service) {
            document.getElementById('p-name').innerText = name;
            document.getElementById('p-phone').innerText = phone;
            document.getElementById('p-date').innerText = date;
            document.getElementById('p-address').innerText = address;
            document.getElementById('p-service').innerText = service;
            window.print();
        }
    </script>
</body>
</html>
